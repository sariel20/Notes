#### 事件分发机制
##### 点击事件的传递规则
所谓点击事件的事件分发，其实就是对MotionEvent事件的分发过程，即当一个MotionEvent产生以后，系统需要把这个事件传递给一个具体的View，而这个传递过程就是分发过程。
三个重要方法
1. `boolean dispatchTouchEvent(MotionEvent ev)`
用来进行事件分发，返回结果受当前View的`onTouchEvent`和下级View的`dispatchTouchEvent`方法的影响，表示是否消耗当前事件
2. `boolean onInterceptTouchEvent(MotionEvent ev)`
在上述方法内部调用，判断是否拦截某个事件
3. `boolean onTouchEvent(MotionEvent ev)`
在第一个方法中调用，处理点击事件

事件传递结论
1. 同一个事件序列是指从手指接触屏幕那一刻起，到手指离开屏幕那一刻结束，在这个过程产生得一系列事件，这个事件序列以down事件开始，中间含有数量不定得move事件，最终up结束
2. 正常情况下，一个事件序列只能被一个view拦截且消耗，这一条得原因可以参考3）
3. 某个view一旦决定拦截，那么这一个事件序列都只能由它处理，并且他的`onInterceptTouchEvent`不会再被调用
4. 某个view一旦开始处理事件，如果不消耗`ACTION_DOWN`事件，（onTouchEvent返回false），那么同一事件序列中的其他事件都不会再交给他处理，并且事件将重新交由他的父元素去处理，即父元素得`onTouchEVent`会被调用
5. 如果view不消耗出`ACTION_DOWN`以外得其他事件，那么这个点击事件会消失，此时父元素得`onTouchEvent`并不会被调用，并且当前view可以持续受到后续得事件，最终这些消失得点击事件会传递给activity处理
6. viewGroup默认不拦截任何事件，
7. view没有`onInterceptTouchEvent`方法，一旦有点击事件传递给他，那么他的`onTouchEvent`方法就会被调用
8. view得`onTouchEvent`默认都会消耗事件，除非他是不可点击的
9. view得`enable`属性不影响`onTouchEvent`得默认返回值
10. `onClick`会发生得前提是当前view是可点击得，并且她收到了down和up事件
11. 时间传递过程是由外向内，即事件总是先传递给父元素，然后再有父元素交给view，通过`requestDisallowInterceptTouchEvent`方法可以在子元素中干预父元素事件分发过程，但是`ACTION_DOWN`事件除外

![enter image description here](https://github.com/sariel20/StudyNotes/blob/master/Android%E7%9B%B8%E5%85%B3/img/sjff.png)  
